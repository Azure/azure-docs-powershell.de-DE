---
external help file: Microsoft.WindowsAzure.Commands.ServiceManagement.dll-Help.xml
ms.assetid: FDA81DCB-04A4-44E5-89CD-3C36F9BB6FA9
online version: ''
schema: 2.0.0
ms.openlocfilehash: 47ae6d45fd2043d394fa7884863a3235eaa0f8d5
ms.sourcegitcommit: 56ed085a868afa8263f8eb0f755b5822f5c29532
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/18/2020
ms.locfileid: "94005998"
---
# Set-AzureVMMicrosoftAntimalwareExtension

## Synopsis
Konfiguriert die Microsoft Antimalware-Erweiterung für einen virtuellen Computer.

## Syntax

### EnableMicrosoftAntimalwareExtensionJsonConfigFilePath (Standard)
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfigFile] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### EnableMicrosoftAntimalwareExtensionJsonConfig
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfiguration] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### DisableMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [[-Version] <String>] [-Disable] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### UninstallMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [-Uninstall] -VM <IPersistentVM> [-Profile <AzureSMProfile>]
 [-InformationAction <ActionPreference>] [-InformationVariable <String>] [<CommonParameters>]
```

### ConfigureMicrosoftAntimalwareMonitoring
```
Set-AzureVMMicrosoftAntimalwareExtension [-Monitoring] <String> [[-StorageContext] <AzureStorageContext>]
 [-NoConfig] -VM <IPersistentVM> [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>]
 [-InformationVariable <String>] [<CommonParameters>]
```

## Beschreibung
Mit dem Cmdlet " **festlegen-AzureVMMicrosoftAntimalwareExtension** " wird die Microsoft Antimalware-Erweiterung für einen virtuellen Computer konfiguriert.
Sie können die Erweiterung aktivieren, deaktivieren oder deinstallieren.

## Beispiele

### Beispiel 1: Aktivieren der Erweiterung mithilfe einer Konfigurationsdatei
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json' | Update-AzureVM
```

Mit diesem Befehl wird die Microsoft Antimalware-Erweiterung mithilfe einer Konfigurationsdatei aktiviert.
Der Befehl verwendet das Cmdlet " **Get-AzureVM** ", um das angegebene virtuelle Computerobjekt abzurufen, und übergibt das Objekt dann mithilfe des Pipelineoperators an das aktuelle Cmdlet.

### Beispiel 2: Aktivieren der Erweiterung und Aktivieren der Überwachung
```
PS C:\> $StorageContext = New-AzureStorageContext -StorageAccountName "contosostoragemain" -StorageAccountKey (Get-AzureStorageKey -StorageAccountName "Contosostoragemain").PrimaryP
S C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json" -Monitoring ON -StorageContext $StorageContext | Update-AzureVM
```

Der erste Befehl erstellt ein AzureStorageContext-Objekt mit dem Cmdlet **New-AzureStorageContext** und speichert es dann in der $StorageContext-Variablen.

### Beispiel 3: Aktivieren der Erweiterung durch Angeben eines Konfigurationsobjekts
```
PS C:\> $Config_String = [IO.File]::ReadAllText('C:\configuration\contosoVM.json')
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfiguration $Config_String | Update-AzureVM
```

Der erste Befehl erstellt ein Zeichenfolgenobjekt durchlesen einer JSON-Konfiguration für die Microsoft Antimalware-Erweiterung und anschließendes Speichern in der $config _string-Variable.

### Beispiel 4: Deaktivieren der Erweiterung
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Disable | Update-AzureVM
```

Dieser Befehl deaktiviert die Erweiterung, ohne Sie zu entfernen.
Der Befehl verwendet Get-AzureVM, um das Objekt des angegebenen virtuellen Computers abzurufen, und übergibt dann das Objekt an das aktuelle Cmdlet.

### Beispiel 5: Entfernen der Erweiterung
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Uninstall | Update-AzureVM
```

Mit diesem Befehl wird die Microsoft Antimalware-Erweiterung vom virtuellen Computer entfernt.
Der Befehl verwendet Get-AzureVM, um das Objekt des angegebenen virtuellen Computers abzurufen, und übergibt dann das Objekt an das aktuelle Cmdlet.

## Parameter

### -AntimalwareConfigFile
Gibt den absoluten Pfad der Microsoft Antimalware-Konfigurationsdatei an.
Geben Sie diesen Parameter nicht an, wenn Sie den AntimalwareConfiguration-Parameter angeben.
Die Konfigurationsdatei muss mindestens den folgenden Inhalt aufweisen, um die Microsoft Antimalware-Erweiterung zu aktivieren: 

`{ "AntimalwareEnabled": true }`

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -AntimalwareConfiguration
Gibt ein Zeichenfolgenobjekt an, das die Microsoft Antimalware-Konfiguration enthält.
Dieses Objekt darf nicht $NULL oder leer sein.
Geben Sie diesen Parameter nicht an, wenn Sie den AntimalwareConfigFile-Parameter angeben.
Das Configuration-Objekt muss mindestens den folgenden Inhalt aufweisen, um die Microsoft Antimalware-Erweiterung zu aktivieren: * * * * {"AntimalwareEnabled": wahr}

JSON-Konfigurationsbeispiel für Microsoft Antimalware: 

{"AntimalwareEnabled": wahr; "RealtimeProtectionEnabled": wahr; "ScheduledScanSettings": {"IsEnabled": wahr; "Tag": 1; "Zeit": 120; "ScanType": "voll"},

"Ausschlüsse": {"Erweiterungen": ". ext2 "," Pfade ":" c:\excluded-Path-1; c:\excluded-Path-2 ";" Prozesse ":" excludedproc1.exe; excludedproc2.exe "}

}

Hinweise: AntimalwareEnabled ist ein erforderlicher Parameter.
Values: true = enable.
false = Fehler aus, da "false" kein unterstützter Wert ist

RealtimeProtectionEnabled: true/false. true = enable.
false = deaktivieren.
Standardwert ist wahr

ScheduledScanSettings:  
IsEnabled = wahr/falscher Tag = 0-8 (0-täglich, 1-Sonntag, 2-Montag,...., 7-Samstag, 8-deaktiviert) Zeit = 0-1440 (gemessen in Minuten nach Mitternacht-60- \> 01.00, 120- \> 02.00 Uhr,...) ScanType = "schnell" oder "voll" (Standard ist schnell) Hinweis: Wenn "IsEnabled = True" die einzige bereitgestellte Einstellung ist, werden die folgenden Standardwerte festgelegt: Tag = 7 (Samstag), Zeit = 120 (2 Uhr), ScanType = "schnelle" Ausschlüsse: mehrere Ausschlüsse in der gleichen Liste werden mithilfe von Semikolons angegeben.

Wenn keine Ausschlüsse angegeben werden, werden die vorhandenen Ausschlüsse, falls vorhanden, durch Leerzeichen im System überschrieben.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Deaktivieren Sie
Gibt an, dass das Cmdlet die Microsoft Antimalware-Erweiterung deaktiviert.
Um die Erweiterung auf demselben virtuellen Computer erneut zu aktivieren, führen Sie Set-AzureVMMicrosoftAntimalwareExtension ohne den Parameter disable aus.

```yaml
Type: SwitchParameter
Parameter Sets: DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Information
Gibt an, wie dieses Cmdlet auf ein Informationsereignis reagiert.

Die zulässigen Werte für diesen Parameter lauten wie folgt:

- Weiterhin
- Ignorieren
- Erkundigen
- SilentlyContinue
- Beenden
- Anhalten

```yaml
Type: ActionPreference
Parameter Sets: (All)
Aliases: infa

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -InformationVariable
Gibt eine Informations Variable an.

```yaml
Type: String
Parameter Sets: (All)
Aliases: iv

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Überwachung
Gibt an, ob Microsoft Antimalware-Ereignisse erfasst werden sollen.

Die zulässigen Werte für diesen Parameter lauten wie folgt:

- Auf.
Sammeln Sie Microsoft-Antimalware-Ereignisse für den Speicherkontext. 
- Aus.
Sammeln Sie keine Antimalware-Ereignisse von Microsoft.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: False
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

```yaml
Type: String
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Noconfig
Gibt an, dass dieses Cmdlet die noconfig-Option angibt.

```yaml
Type: SwitchParameter
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Profil
Gibt das Azure-Profil an, von dem dieses Cmdlet liest.
Wenn Sie kein Profil angeben, liest dieses Cmdlet aus dem lokalen Standardprofil.

```yaml
Type: AzureSMProfile
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Storagecontext
Gibt einen Azure-Speicherkontext für Microsoft Antimalware-Überwachung an.

```yaml
Type: AzureStorageContext
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: False
Position: 4
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Deinstallieren
Gibt an, dass dieses Cmdlet die Microsoft Antimalware-Erweiterung vom virtuellen Computer deinstalliert.
Wenn die Überwachung aktiviert war, entfernt das Cmdlet auch die Sammlung von Microsoft-Antimalware-Ereignissen.

```yaml
Type: SwitchParameter
Parameter Sets: UninstallMicrosoftAntimalwareExtension
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Version
Gibt die Erweiterungsversion als Zeichenfolge an. Hinweis: die unterstützte Version ist 1,5. Die älteren Versionen werden von Microsoft nicht unterstützt.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -VM
Gibt den virtuellen Computer als IPersistentVM-Objekt an.

```yaml
Type: IPersistentVM
Parameter Sets: (All)
Aliases: InputObject

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: False
```

### CommonParameters
Dieses Cmdlet unterstützt die allgemeinen Parameter:-Debug,-Fehler Aktion,-ErrorVariable,-InformationVariable,-Variable,-Puffer,-PipelineVariable,-Verbose,-Warning-Aktion und-WarningVariable. Weitere Informationen finden Sie unter about_CommonParameters ( https://go.microsoft.com/fwlink/?LinkID=113216) .

## Eingaben

## Ausgaben

## Notizen

## Verwandte Links

[Get-AzureVMMicrosoftAntimalwareExtension](./Get-AzureVMMicrosoftAntimalwareExtension.md)

[Remove-AzureVMMicrosoftAntimalwareExtension](./Remove-AzureVMMicrosoftAntimalwareExtension.md)

[Get-AzureVM](./Get-AzureVM.md)


