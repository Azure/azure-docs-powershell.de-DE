---
title: Migrieren von Azure PowerShell-Skripts von AzureRM zu Az
description: Hier werden die Schritte und Tools zum Migrieren von Azure PowerShell-Skripts von AzureRM zum neuen Az PowerShell-Modul beschrieben.
ms.devlang: powershell
ms.service: azure-powershell
ms.topic: conceptual
ms.date: 12/15/2020
ms.custom: devx-track-azurepowershell, contperf-fy21q2
ms.openlocfilehash: 6bccaf9a628f67b8945516bae70f07939cdce8f7
ms.sourcegitcommit: 12bb1a6d1f89789bf2a78992f9b8ca848691a4d7
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/19/2021
ms.locfileid: "98573864"
---
# <a name="migrate-azure-powershell-from-azurerm-to-az"></a><span data-ttu-id="135d5-103">Migrieren von Azure PowerShell von AzureRM zum Az-Modul</span><span class="sxs-lookup"><span data-stu-id="135d5-103">Migrate Azure PowerShell from AzureRM to Az</span></span>

<span data-ttu-id="135d5-104">Alle Versionen des AzureRM PowerShell-Moduls sind veraltet.</span><span class="sxs-lookup"><span data-stu-id="135d5-104">All versions of the AzureRM PowerShell module are outdated.</span></span> <span data-ttu-id="135d5-105">Für die Interaktion mit Azure wird nun das [Az PowerShell-Modul](install-az-ps.md) empfohlen.</span><span class="sxs-lookup"><span data-stu-id="135d5-105">The [Az PowerShell module](install-az-ps.md) is now the recommended PowerShell module for interacting with Azure.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="135d5-106">Gründe für ein neues Modul</span><span class="sxs-lookup"><span data-stu-id="135d5-106">Why a new module?</span></span>

<span data-ttu-id="135d5-107">Die größte und wichtigste Änderung ist, dass die [PowerShell](/powershell/scripting/overview)-Befehlsshell, die auf der .NET Standard-Bibliothek basiert, seit ihrer Einführung ein plattformübergreifendes Produkt ist.</span><span class="sxs-lookup"><span data-stu-id="135d5-107">The biggest and most important change is that [PowerShell](/powershell/scripting/overview), being based on the .NET Standard library, has been a cross-platform product since its introduction.</span></span>

<span data-ttu-id="135d5-108">Wie auch bei der PowerShell-Sprache haben wir es uns zur Aufgabe gemacht, Azure auf allen Plattformen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="135d5-108">Like the PowerShell language, we're committed to bringing Azure support to all platforms.</span></span> <span data-ttu-id="135d5-109">Dies bedeutete, dass die Azure PowerShell-Module zur Verwendung von .NET Standard aktualisiert werden und mit PowerShell Core kompatibel sein mussten.</span><span class="sxs-lookup"><span data-stu-id="135d5-109">Our commitment meant that the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell Core.</span></span> <span data-ttu-id="135d5-110">Anstatt das bestehende AzureRM-Modul zu ändern und komplexe Änderungen vorzunehmen, um diese Unterstützung zu implementieren, wurde das Az-Modul erstellt.</span><span class="sxs-lookup"><span data-stu-id="135d5-110">Rather than modifying the existing AzureRM module and introducing complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="135d5-111">Die Erstellung eines neuen Moduls ermöglichte es unseren Technikern auch, das Design sowie die Benennung von Cmdlets und Modulen zu vereinheitlichen.</span><span class="sxs-lookup"><span data-stu-id="135d5-111">Creating a new module also allowed our engineers to make the design, naming of cmdlets, and modules consistent.</span></span> <span data-ttu-id="135d5-112">Alle Module beginnen jetzt mit dem Präfix `Az.`, und alle Cmdlets folgen der Namenskonvention `Verb-AzNoun`.</span><span class="sxs-lookup"><span data-stu-id="135d5-112">All modules now start with the `Az.` prefix and cmdlets all use the `Verb-AzNoun` naming convention.</span></span> <span data-ttu-id="135d5-113">Zuvor waren Cmdlet-Namen länger und inkonsistent.</span><span class="sxs-lookup"><span data-stu-id="135d5-113">Previously, cmdlet names were longer and inconsistent.</span></span>

<span data-ttu-id="135d5-114">Auch die Anzahl von Modulen wurde verringert: Einige Module, die dieselben Dienste nutzten, wurden zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="135d5-114">The number of modules were also reduced: Some modules that worked with the same services have been combined.</span></span> <span data-ttu-id="135d5-115">Cmdlets auf Verwaltungs- und Datenebene für denselben Dienst sind jetzt in einem einzelnen Modul zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="135d5-115">Management plane and data plane cmdlets for the same service are now contained within a single module.</span></span> <span data-ttu-id="135d5-116">Für diejenigen, die Abhängigkeiten und Importvorgänge manuell verwalten, stellt diese Konsolidierung eine erhebliche Vereinfachung dar.</span><span class="sxs-lookup"><span data-stu-id="135d5-116">For those of you who manually manage dependencies and imports, this consolidation makes things much simpler.</span></span>

<span data-ttu-id="135d5-117">Bei diesen wichtigen Änderungen bestand das Ziel des Teams darin, die Verwendung von Azure mit PowerShell-Cmdlets einfacher denn je zu gestalten und auf mehr Plattformen als bisher zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="135d5-117">By making these important changes, the team has committed to making it easier than ever before and on more platforms than previously possible to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrading-to-az-powershell"></a><span data-ttu-id="135d5-118">Aktualisieren auf Az PowerShell</span><span class="sxs-lookup"><span data-stu-id="135d5-118">Upgrading to Az PowerShell</span></span>

<span data-ttu-id="135d5-119">Für die AzureRM-Cmdlets geschriebene Skripts funktionieren nicht automatisch mit dem Az-Modul.</span><span class="sxs-lookup"><span data-stu-id="135d5-119">Scripts written for the AzureRM cmdlets won't automatically work with Az.</span></span> <span data-ttu-id="135d5-120">Um den Umstieg zu vereinfachen, wurde das [Toolkit für die Migration von AzureRM zu Az](https://github.com/Azure/azure-powershell-migration) entwickelt.</span><span class="sxs-lookup"><span data-stu-id="135d5-120">To make the transition easier, the [AzureRM to Az migration toolkit](https://github.com/Azure/azure-powershell-migration) was developed.</span></span> <span data-ttu-id="135d5-121">Eine Migration zu einem neuen Befehlssatz ist immer unangenehm. Dieser Artikel hilft Ihnen jedoch dabei, den Umstieg auf das Az PowerShell-Modul in die Wege zu leiten.</span><span class="sxs-lookup"><span data-stu-id="135d5-121">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the Az PowerShell module.</span></span> <span data-ttu-id="135d5-122">Weitere Informationen zu den Gründen für die Entwicklung des Az PowerShell-Moduls finden Sie unter [Einführung in das neue Azure PowerShell Az-Modul](new-azureps-module-az.md).</span><span class="sxs-lookup"><span data-stu-id="135d5-122">To learn more about why the Az PowerShell module was created, see [Introducing the new Azure PowerShell Az module](new-azureps-module-az.md).</span></span>

<span data-ttu-id="135d5-123">Die neuen Cmdlet-Namen sind ganz einfach zu lernen.</span><span class="sxs-lookup"><span data-stu-id="135d5-123">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="135d5-124">Verwenden Sie in Cmdlet-Namen nicht mehr `AzureRm` oder `Azure`, sondern `Az`.</span><span class="sxs-lookup"><span data-stu-id="135d5-124">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="135d5-125">Das alte Cmdlet `New-AzureRMVm` heißt jetzt beispielsweise `New-AzVm`.</span><span class="sxs-lookup"><span data-stu-id="135d5-125">For example, the old cmdlet `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="135d5-126">Die Migration umfasst jedoch mehr, als sich nur mit den neuen Cmdlet-Namen vertraut zu machen.</span><span class="sxs-lookup"><span data-stu-id="135d5-126">However, migration is more than just becoming familiar with the new cmdlet names, though.</span></span> <span data-ttu-id="135d5-127">Es gibt umbenannte Module, Parameter und andere wichtige Änderungen.</span><span class="sxs-lookup"><span data-stu-id="135d5-127">There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="135d5-128">Die vollständige Liste mit grundlegenden Änderungen zwischen AzureRM und Az finden Sie unter [Vollständige Änderungen von AzureRM zu Az](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="135d5-128">To see the full list of breaking changes between AzureRM and Az, see the [full changes from AzureRM to Az](migrate-az-1.0.0.md).</span></span>

## <a name="ensure-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="135d5-129">Vergewissern, dass vorhandene Skripts mit der neuesten AzureRM-Version funktionieren</span><span class="sxs-lookup"><span data-stu-id="135d5-129">Ensure existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="135d5-130">Überprüfen Sie, welche Versionen von AzureRM auf Ihrem System installiert sind, bevor Sie Migrationsschritte ausführen.</span><span class="sxs-lookup"><span data-stu-id="135d5-130">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span>
<span data-ttu-id="135d5-131">So können Sie sicherstellen, dass für Skripts bereits das aktuelle Release verwendet wird, und ermitteln, welche Versionen von AzureRM deinstalliert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="135d5-131">Doing so allows you to make sure scripts are already running on the latest release and let you know which versions of AzureRM must be uninstalled.</span></span>

<span data-ttu-id="135d5-132">Führen Sie das folgende Beispiel aus, um zu überprüfen, welche Versionen von AzureRM bei Ihnen installiert sind:</span><span class="sxs-lookup"><span data-stu-id="135d5-132">To check which version(s) of AzureRM you have installed, run the following example:</span></span>

```azurepowershell
Get-Module -Name AzureRM -ListAvailable -All
```

<span data-ttu-id="135d5-133">Die **aktuellste** verfügbare Version von AzureRM ist **6.13.1**.</span><span class="sxs-lookup"><span data-stu-id="135d5-133">The **latest** available release of AzureRM is **6.13.1**.</span></span> <span data-ttu-id="135d5-134">Sollte diese Version nicht installiert sein, sind zur Verwendung des Az-Moduls möglicherweise zusätzliche Änderungen für Ihre vorhandenen Skripts erforderlich, die nicht in diesem Artikel und der [Breaking Changes-Liste](migrate-az-1.0.0.md) beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="135d5-134">If you don't have this version installed, your existing scripts may need additional modifications to work with the Az module beyond the scope of what's described in this article and in the [breaking changes list](migrate-az-1.0.0.md).</span></span>

<span data-ttu-id="135d5-135">Wenn Ihre Skripts nicht mit AzureRM 6.13.1 funktionieren, aktualisieren Sie sie gemäß dem [Leitfaden zur Migration von AzureRM 5.x zu 6.x](/powershell/azure/azurerm/migration-guide.6.0.0).</span><span class="sxs-lookup"><span data-stu-id="135d5-135">If your scripts don't work with AzureRM 6.13.1, update them according to the [AzureRM 5.x to 6.x migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span> <span data-ttu-id="135d5-136">Wenn Sie eine frühere Version des AzureRM-Moduls verwenden, gibt es für jede Hauptversion Migrationsleitfäden.</span><span class="sxs-lookup"><span data-stu-id="135d5-136">If you use an earlier version of the AzureRM module, there are migration guides available for each major version.</span></span>

## <a name="option-1-recommended-automatically-migrate-your-powershell-scripts"></a><span data-ttu-id="135d5-137">Option 1 (empfohlen): Automatisches Migrieren Ihrer PowerShell-Skripts</span><span class="sxs-lookup"><span data-stu-id="135d5-137">Option 1 (recommended): Automatically migrate your PowerShell scripts</span></span>

<span data-ttu-id="135d5-138">Die empfohlene Option minimiert den erforderlichen Aufwand für die Migration von AzureRM-Skripts zu Az.</span><span class="sxs-lookup"><span data-stu-id="135d5-138">This recommended option minimizes the effort required to migrate AzureRM scripts to Az.</span></span>

### <a name="install-the-azurerm-to-az-migration-toolkit"></a><span data-ttu-id="135d5-139">Installieren des Toolkits für die Migration von AzureRM zu Az</span><span class="sxs-lookup"><span data-stu-id="135d5-139">Install the AzureRM to Az migration toolkit</span></span>

```azurepowershell
Install-Module -Name Az.Tools.Migration
```

### <a name="convert-your-scripts-automatically"></a><span data-ttu-id="135d5-140">Automatisches Konvertieren Ihrer Skripts</span><span class="sxs-lookup"><span data-stu-id="135d5-140">Convert your scripts automatically</span></span>

<span data-ttu-id="135d5-141">Mit dem Toolkit für die Migration von AzureRM zu Az können Sie einen Plan generieren, um zu ermitteln, welche Änderungen für Ihre Skripts vorgenommen werden, bevor Sie tatsächlich Änderungen vornehmen und das Az PowerShell-Modul installieren.</span><span class="sxs-lookup"><span data-stu-id="135d5-141">With the AzureRM to Az migration toolkit, you can generate a plan to determine what changes will be performed on your scripts before making any modifications to them and before installing the Az PowerShell module.</span></span>

<span data-ttu-id="135d5-142">In der Schnellstartanleitung [Automatisches Migrieren von PowerShell-Skripts von AzureRM zum Az PowerShell-Modul](quickstart-migrate-azurerm-to-az-automatically.md) werden die einzelnen Schritte für die automatische Aktualisierung Ihrer PowerShell-Skripts von AzureRM auf das Az PowerShell-Modul beschrieben.</span><span class="sxs-lookup"><span data-stu-id="135d5-142">The [Automatically migrate PowerShell scripts from AzureRM to the Az PowerShell module](quickstart-migrate-azurerm-to-az-automatically.md) quickstart walks you through the entire process of automatically updating your PowerShell scripts from AzureRM to the Az PowerShell module.</span></span>

## <a name="option-2-use-compatibility-mode-with-enable-azurermalias"></a><span data-ttu-id="135d5-143">Option 2: Verwenden des Kompatibilitätsmodus mit „Enable-AzureRmAlias“</span><span class="sxs-lookup"><span data-stu-id="135d5-143">Option 2: Use compatibility mode with Enable-AzureRmAlias</span></span>

<span data-ttu-id="135d5-144">Das Az-Modul verfügt über einen Kompatibilitätsmodus, der Ihnen die Verwendung bereits vorhandener Skripts ermöglicht, während Sie das Update auf die neue Syntax durchführen.</span><span class="sxs-lookup"><span data-stu-id="135d5-144">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="135d5-145">Mit dem Cmdlet [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) können Sie über Aliase einen Kompatibilitätsmodus nutzen.</span><span class="sxs-lookup"><span data-stu-id="135d5-145">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases.</span></span> <span data-ttu-id="135d5-146">Dieser Modus ermöglicht es Ihnen, vorhandene Skripts mit minimalen Änderungen zu verwenden, während Sie an der vollständigen Migration zu Az arbeiten.</span><span class="sxs-lookup"><span data-stu-id="135d5-146">This mode allows you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span> <span data-ttu-id="135d5-147">Standardmäßig aktiviert `Enable-AzureRmAlias` nur Kompatibilitätsaliase für die aktuelle PowerShell-Sitzung.</span><span class="sxs-lookup"><span data-stu-id="135d5-147">By default, `Enable-AzureRmAlias` only enables compatibility aliases for the current PowerShell session.</span></span> <span data-ttu-id="135d5-148">Verwenden Sie den Parameter `Scope`, um Kompatibilitätsaliase über PowerShell-Sitzungen hinweg beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="135d5-148">Use its `Scope` parameter to persist compatibility aliases across PowerShell sessions.</span></span> <span data-ttu-id="135d5-149">Weitere Informationen finden Sie in der [Referenzdokumentation zu Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias).</span><span class="sxs-lookup"><span data-stu-id="135d5-149">For more information, see [the Enable-AzureRmAlias reference documentation](/powershell/module/az.accounts/enable-azurermalias).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="135d5-150">Auch wenn die Cmdlet-Namen mit Aliasen versehen sind, kann es dennoch neue (oder umbenannte) Parameter oder geänderte Rückgabewerte für die Az-Cmdlets geben.</span><span class="sxs-lookup"><span data-stu-id="135d5-150">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="135d5-151">Erwarten Sie nicht, dass die Aktivierung von Aliasen die Migration für Sie übernimmt!</span><span class="sxs-lookup"><span data-stu-id="135d5-151">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="135d5-152">Weitere Informationen zu möglicherweise erforderlichen Änderungen an Ihren Skripts finden Sie in der [Vollständigen Liste der Breaking Changes](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="135d5-152">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="option-3-migrate-your-scripts-in-visual-studio-code-with-the-azure-powershell-extension"></a><span data-ttu-id="135d5-153">Option 3: Migrieren Ihrer Skripts in Visual Studio Code mit der Azure PowerShell-Erweiterung</span><span class="sxs-lookup"><span data-stu-id="135d5-153">Option 3: Migrate your scripts in Visual Studio Code with the Azure PowerShell extension</span></span>

### <a name="install-the-azure-powershell-extension-for-visual-studio-code"></a><span data-ttu-id="135d5-154">Installieren der Azure PowerShell-Erweiterung für Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="135d5-154">Install the Azure PowerShell extension for Visual Studio Code</span></span>

<span data-ttu-id="135d5-155">Installieren Sie die [Azure PowerShell-Erweiterung für VSCode](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools).</span><span class="sxs-lookup"><span data-stu-id="135d5-155">Install the [Azure PowerShell extension for VSCode](https://marketplace.visualstudio.com/items?itemName=azps-tools.azps-tools)</span></span>

### <a name="convert-your-scripts-manually"></a><span data-ttu-id="135d5-156">Manuelles Konvertieren Ihrer Skripts</span><span class="sxs-lookup"><span data-stu-id="135d5-156">Convert your scripts manually</span></span>

1. <span data-ttu-id="135d5-157">Laden Sie Ihr AzureRM-Skript in VSCode.</span><span class="sxs-lookup"><span data-stu-id="135d5-157">Load your AzureRM script in VSCode</span></span>
2. <span data-ttu-id="135d5-158">Starten Sie die Migration, indem Sie die Befehlspalette mit `Ctrl+Shift+P` öffnen und dann `Migrate Azure PowerShell script` auswählen.</span><span class="sxs-lookup"><span data-stu-id="135d5-158">Start the migration by opening the command palette `Ctrl+Shift+P` and select `Migrate Azure PowerShell script`</span></span>
3. <span data-ttu-id="135d5-159">Wählen Sie `AzureRM` als Quellversion aus.</span><span class="sxs-lookup"><span data-stu-id="135d5-159">Select source version `AzureRM`</span></span>
4. <span data-ttu-id="135d5-160">Führen Sie die empfohlenen Aktionen für jeden unterstrichenen Befehl oder Parameter aus.</span><span class="sxs-lookup"><span data-stu-id="135d5-160">Follow the recommended actions for each underlined command or parameter.</span></span>

## <a name="next-steps"></a><span data-ttu-id="135d5-161">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="135d5-161">Next steps</span></span>

* [<span data-ttu-id="135d5-162">Deinstallieren von AzureRM</span><span class="sxs-lookup"><span data-stu-id="135d5-162">Uninstall AzureRM</span></span>](uninstall-az-ps.md#uninstall-the-azurerm-module)
* [<span data-ttu-id="135d5-163">Installieren von Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="135d5-163">Install Azure PowerShell</span></span>](install-az-ps.md)
