---
title: Migrieren von Azure PowerShell-Skripts von AzureRM zu Az
description: Hier lernen Sie die Schritte und Tools kennen, mit denen Sie Skripts vom AzureRM-Modul zum neuen Az-Modul migrieren können.
author: sptramer
ms.author: sttramer
manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.date: 12/13/2018
ms.openlocfilehash: 28122ca953d62b405f19effbbc680f2dc6202cca
ms.sourcegitcommit: 89066b7c4b527357bb2024e1ad708df84c131804
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/09/2019
ms.locfileid: "59364191"
---
# <a name="migrate-from-azurerm-to-azure-powershell-az"></a><span data-ttu-id="e9338-103">Migrieren von AzureRM zum Az-Modul von Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="e9338-103">Migrate from AzureRM to Azure PowerShell Az</span></span>

<span data-ttu-id="e9338-104">Das Az-Modul bietet die gleichen Features wie AzureRM, verwendet aber kürzere und konsistentere Cmdlet-Namen.</span><span class="sxs-lookup"><span data-stu-id="e9338-104">The Az module has feature parity with AzureRM, but uses shorter and more consistent cmdlet names.</span></span>
<span data-ttu-id="e9338-105">Für die AzureRM-Cmdlets geschriebene Skripts funktionieren nicht automatisch auch mit dem neuen Modul.</span><span class="sxs-lookup"><span data-stu-id="e9338-105">Scripts written for the AzureRM cmdlets won't automatically work with the new module.</span></span> <span data-ttu-id="e9338-106">Zur Vereinfachung des Übergangs bietet Az Tools, die es Ihnen ermöglichen, Ihre bereits vorhandenen Skripts mit AzureRM auszuführen.</span><span class="sxs-lookup"><span data-stu-id="e9338-106">To make the transition easier, Az offers tools to allow you to run your existing scripts using AzureRM.</span></span> <span data-ttu-id="e9338-107">Eine Migration zu einem neuen Befehlssatz ist immer unangenehm. Dieser Artikel hilft Ihnen jedoch dabei, den Umstieg auf das neue Modul in die Wege zu leiten.</span><span class="sxs-lookup"><span data-stu-id="e9338-107">No migration to a new command set is ever convenient, but this article will help you get started on transitioning to the new module.</span></span>

<span data-ttu-id="e9338-108">Die vollständige Liste mit grundlegenden Änderungen zwischen AzureRM und Az finden Sie im [Migrationsleitfaden für Az 1.0.0](migrate-az-1.0.0.md).</span><span class="sxs-lookup"><span data-stu-id="e9338-108">To see the full list of breaking changes between AzureRM and Az, see the [Migration guide for Az 1.0.0](migrate-az-1.0.0.md)</span></span>

## <a name="check-for-installed-versions-of-azurerm"></a><span data-ttu-id="e9338-109">Durchführen einer Überprüfung auf installierte Versionen von AzureRM</span><span class="sxs-lookup"><span data-stu-id="e9338-109">Check for installed versions of AzureRM</span></span>

<span data-ttu-id="e9338-110">Das Az-Modul kann parallel zum AzureRM-Modul installiert werden, aber diese Vorgehensweise wird nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="e9338-110">The Az module can be installed side-by-side with the AzureRM module, but this is not recommended.</span></span> <span data-ttu-id="e9338-111">Überprüfen Sie, welche Versionen von AzureRM auf Ihrem System installiert sind, bevor Sie Migrationsschritte ausführen.</span><span class="sxs-lookup"><span data-stu-id="e9338-111">Before taking any migration steps, check which versions of AzureRM are installed on your system.</span></span> <span data-ttu-id="e9338-112">So können Sie sicherstellen, dass für Skripts bereits das aktuelle Release verwendet wird, und Sie können ermitteln, ob Sie Befehlsaliase ohne Deinstallation von AzureRM aktivieren können.</span><span class="sxs-lookup"><span data-stu-id="e9338-112">Doing so allows you to make sure scripts are already running on the latest release, and let you know if you can enable command aliases without uninstalling AzureRM.</span></span>

<span data-ttu-id="e9338-113">Führen Sie den folgenden Befehl aus, um zu überprüfen, welche Versionen von AzureRM bei Ihnen installiert sind:</span><span class="sxs-lookup"><span data-stu-id="e9338-113">To check which version(s) of AzureRM you have installed, run the command:</span></span>

```powershell-interactive
Get-InstalledModule -Name AzureRM -AllVersions
```

## <a name="ensure-your-existing-scripts-work-with-the-latest-azurerm-release"></a><span data-ttu-id="e9338-114">Vergewissern, dass Ihre vorhandenen Skripts mit der neuesten AzureRM-Version funktionieren</span><span class="sxs-lookup"><span data-stu-id="e9338-114">Ensure your existing scripts work with the latest AzureRM release</span></span>

<span data-ttu-id="e9338-115">Das ist der wichtigste Schritt überhaupt.</span><span class="sxs-lookup"><span data-stu-id="e9338-115">This is the most important step!</span></span> <span data-ttu-id="e9338-116">Führen Sie Ihre vorhandenen Skripts aus, und vergewissern Sie sich, dass diese mit der _neuesten_ Version von AzureRM (__6.13.1__) funktionieren.</span><span class="sxs-lookup"><span data-stu-id="e9338-116">Run your existing scripts, and make sure that they work with the _latest_ release of AzureRM (__6.13.1__).</span></span> <span data-ttu-id="e9338-117">Sollten Ihre Skripts nicht funktionieren, lesen Sie das [AzureRM-Migrationshandbuch](/powershell/azure/azurerm/migration-guide.6.0.0).</span><span class="sxs-lookup"><span data-stu-id="e9338-117">If your scripts don't work, make sure to read the [AzureRM migration guide](/powershell/azure/azurerm/migration-guide.6.0.0).</span></span>

## <a name="install-the-azure-powershell-az-module"></a><span data-ttu-id="e9338-118">Installieren des Az-Moduls von Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="e9338-118">Install the Azure PowerShell Az module</span></span>

<span data-ttu-id="e9338-119">Der erste Schritt besteht darin, das Az-Modul auf Ihrer Plattform zu installieren.</span><span class="sxs-lookup"><span data-stu-id="e9338-119">The first step is to install the Az module on your platform.</span></span> <span data-ttu-id="e9338-120">Wenn Sie Az installieren, ist es ratsam, AzureRM zu deinstallieren.</span><span class="sxs-lookup"><span data-stu-id="e9338-120">When you install Az, it's recommended that you uninstall AzureRM.</span></span> <span data-ttu-id="e9338-121">In den folgenden Schritten erfahren Sie, wie Sie Ihre bereits vorhandenen Skripts weiterhin ausführen und die Kompatibilität mit älteren Cmdlet-Namen sicherstellen können.</span><span class="sxs-lookup"><span data-stu-id="e9338-121">In the following steps, you'll learn how to keep running your existing scripts and enable compatibility for old cmdlet names.</span></span>

<span data-ttu-id="e9338-122">Gehen Sie zum Installieren des Az-Moduls von Azure PowerShell wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="e9338-122">To install the Azure PowerShell Az module, follow these steps:</span></span>

* <span data-ttu-id="e9338-123">__EMPFOHLEN__: [Deinstallieren Sie das AzureRM-Modul.](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module)</span><span class="sxs-lookup"><span data-stu-id="e9338-123">__RECOMMENDED__: [Uninstall the AzureRM module](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span></span>
  <span data-ttu-id="e9338-124">Achten Sie darauf, _alle_ installierten Versionen von AzureRM zu entfernen, nicht nur die neueste Version.</span><span class="sxs-lookup"><span data-stu-id="e9338-124">Make sure that you remove _all_ installed versions of AzureRM, not just the most recent version.</span></span>
* [<span data-ttu-id="e9338-125">Installieren Sie das Az-Modul.</span><span class="sxs-lookup"><span data-stu-id="e9338-125">Install the Az module</span></span>](install-az-ps.md)

## <a name="a-namealiasesenable-azurerm-compatibility-aliases"></a><span data-ttu-id="e9338-126"><a name="aliases"/>Aktivieren von AzureRM-Kompatibilitätsaliasen</span><span class="sxs-lookup"><span data-stu-id="e9338-126"><a name="aliases"/>Enable AzureRM compatibility aliases</span></span> 

> [!IMPORTANT]
>
> <span data-ttu-id="e9338-127">Aktivieren Sie den Kompatibilitätsmodus nur, wenn Sie _alle_ Versionen von AzureRM deinstalliert haben.</span><span class="sxs-lookup"><span data-stu-id="e9338-127">Only enable compatibility mode if you've uninstalled _all_ versions of AzureRM.</span></span> <span data-ttu-id="e9338-128">Wenn Sie den Kompatibilitätsmodus bei noch vorhandenen AzureRM-Cmdlets aktivieren, kann dies zu unvorhersehbarem Verhalten führen.</span><span class="sxs-lookup"><span data-stu-id="e9338-128">Enabling compatibility mode with AzureRM cmdlets still available may result in unpredictable behavior.</span></span> <span data-ttu-id="e9338-129">Überspringen Sie diesen Schritt, wenn Sie sich für die Beibehaltung der AzureRM-Installation entschieden haben. Sie müssen sich dann aber darüber im Klaren sein, dass für alle AzureRM-Cmdlets die älteren Module verwendet und keine Az-Cmdlets aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="e9338-129">Skip this step if you decided to keep AzureRM installed, but be aware that any AzureRM cmdlets will use the older modules and not call any Az cmdlets.</span></span>

<span data-ttu-id="e9338-130">Wenn Sie AzureRM deinstalliert haben und Ihre Skripts mit der neuesten Version von AzureRM funktionieren, ist der nächste Schritt das Aktivieren des Kompatibilitätsmodus für das Az-Modul.</span><span class="sxs-lookup"><span data-stu-id="e9338-130">With AzureRM uninstalled and your scripts working with the latest AzureRM version, the next step is to enable the compatibility mode for the Az module.</span></span> <span data-ttu-id="e9338-131">Die Kompatibilität wird mithilfe des folgenden Befehls aktiviert:</span><span class="sxs-lookup"><span data-stu-id="e9338-131">Compatibility is enabled with the command:</span></span>

```powershell-interactive
Enable-AzureRmAlias -Scope CurrentUser
```

<span data-ttu-id="e9338-132">Aliase ermöglichen die Verwendung alter Cmdlet-Namen bei installiertem Az-Modul.</span><span class="sxs-lookup"><span data-stu-id="e9338-132">Aliases enable the ability to use old cmdlet names with the Az module installed.</span></span> <span data-ttu-id="e9338-133">Diese Aliase werden in das Benutzerprofil für den ausgewählten Bereich geschrieben.</span><span class="sxs-lookup"><span data-stu-id="e9338-133">These aliases are written to the user profile for the selected scope.</span></span> <span data-ttu-id="e9338-134">Sollte kein Benutzerprofil vorhanden sein, wird eines erstellt.</span><span class="sxs-lookup"><span data-stu-id="e9338-134">If no user profile exists, one is created.</span></span>

> [!WARNING]
>
> <span data-ttu-id="e9338-135">Sie können für diesen Befehl zwar einen anderen Bereich (`-Scope`) verwenden, aber dies wird nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="e9338-135">You can use a different `-Scope` for this command, but it's not recommended.</span></span> <span data-ttu-id="e9338-136">Da Aliase in das Benutzerprofil für den ausgewählten Bereich geschrieben werden, empfiehlt es sich, sie auf einen möglichst kleinen Bereich zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="e9338-136">Aliases are written to the user profile for the selected scope, so keep enabling them to as limited a scope as possible.</span></span> <span data-ttu-id="e9338-137">Eine systemweite Aktivierung von Aliasen kann auch zu Problemen für andere Benutzer führen, die AzureRM in ihrem lokalen Bereich installiert haben.</span><span class="sxs-lookup"><span data-stu-id="e9338-137">Enabling aliases system-wide could also cause issues for other users which have AzureRM installed in their local scope.</span></span>

<span data-ttu-id="e9338-138">Führen Sie Ihre Skripts nach der Aktivierung des Aliasmodus erneut aus, um sich zu vergewissern, dass sie weiterhin wie erwartet funktionieren.</span><span class="sxs-lookup"><span data-stu-id="e9338-138">Once the alias mode is enabled, run your scripts again to confirm that they still function as expected.</span></span> 

## <a name="change-module-imports-and-cmdlet-names"></a><span data-ttu-id="e9338-139">Ändern der Modulimporte und Cmdlet-Namen</span><span class="sxs-lookup"><span data-stu-id="e9338-139">Change module imports and cmdlet names</span></span>

<span data-ttu-id="e9338-140">Ganz allgemein haben sich die Modulnamen geändert, sodass `AzureRM` und `Azure` zu `Az` werden. Gleiches gilt für die Cmdlets.</span><span class="sxs-lookup"><span data-stu-id="e9338-140">In general, the module names have been changed so that `AzureRM` and `Azure` become `Az`, and the same for cmdlets.</span></span>
<span data-ttu-id="e9338-141">So wurde beispielsweise das Modul `AzureRM.Compute` in `Az.Compute` umbenannt.</span><span class="sxs-lookup"><span data-stu-id="e9338-141">For example, the `AzureRM.Compute` module has been renamed to `Az.Compute`.</span></span> `New-AzureRMVM` <span data-ttu-id="e9338-142">wurde zu `New-AzVM`, und `Get-AzureStorageBlob` ist jetzt `Get-AzStorageBlob`.</span><span class="sxs-lookup"><span data-stu-id="e9338-142">has become `New-AzVM`, and `Get-AzureStorageBlob` is now `Get-AzStorageBlob`.</span></span>

<span data-ttu-id="e9338-143">Es gibt allerdings Ausnahmen für diese Namensänderung, die Sie kennen sollten.</span><span class="sxs-lookup"><span data-stu-id="e9338-143">There are exceptions to this naming change that you should be aware of.</span></span> <span data-ttu-id="e9338-144">Einige Module wurden umbenannt oder mit vorhandenen Modulen zusammengeführt, ohne dass sich dies auf das Suffix der zugehörigen Cmdlets ausgewirkt hat (bis auf die Änderung von `AzureRM` oder `Azure` in `Az`).</span><span class="sxs-lookup"><span data-stu-id="e9338-144">Some modules were renamed or merged into existing modules without this affecting the suffix of their cmdlets, other than changing `AzureRM` or `Azure` to `Az`.</span></span> <span data-ttu-id="e9338-145">Andernfalls wurde das vollständige Suffix des Cmdlets geändert, um den neuen Modulnamen widerzuspiegeln.</span><span class="sxs-lookup"><span data-stu-id="e9338-145">Otherwise, the full cmdlet suffix was changed to reflect the new module name.</span></span>

| <span data-ttu-id="e9338-146">AzureRM-Modul</span><span class="sxs-lookup"><span data-stu-id="e9338-146">AzureRM module</span></span> | <span data-ttu-id="e9338-147">Az-Modul</span><span class="sxs-lookup"><span data-stu-id="e9338-147">Az module</span></span> | <span data-ttu-id="e9338-148">Cmdlet-Suffix geändert?</span><span class="sxs-lookup"><span data-stu-id="e9338-148">Cmdlet suffix changed?</span></span> |
|----------------|-----------|------------------------|
| <span data-ttu-id="e9338-149">AzureRM.Profile</span><span class="sxs-lookup"><span data-stu-id="e9338-149">AzureRM.Profile</span></span> | <span data-ttu-id="e9338-150">Az.Accounts</span><span class="sxs-lookup"><span data-stu-id="e9338-150">Az.Accounts</span></span> | <span data-ttu-id="e9338-151">Ja</span><span class="sxs-lookup"><span data-stu-id="e9338-151">Yes</span></span> |
| <span data-ttu-id="e9338-152">AzureRM.Insights</span><span class="sxs-lookup"><span data-stu-id="e9338-152">AzureRM.Insights</span></span> | <span data-ttu-id="e9338-153">Az.Monitor</span><span class="sxs-lookup"><span data-stu-id="e9338-153">Az.Monitor</span></span> | <span data-ttu-id="e9338-154">Ja</span><span class="sxs-lookup"><span data-stu-id="e9338-154">Yes</span></span> |
| <span data-ttu-id="e9338-155">AzureRM.DataFactories</span><span class="sxs-lookup"><span data-stu-id="e9338-155">AzureRM.DataFactories</span></span> | <span data-ttu-id="e9338-156">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="e9338-156">Az.DataFactory</span></span> | <span data-ttu-id="e9338-157">Ja</span><span class="sxs-lookup"><span data-stu-id="e9338-157">Yes</span></span> |
| <span data-ttu-id="e9338-158">AzureRM.DataFactoryV2</span><span class="sxs-lookup"><span data-stu-id="e9338-158">AzureRM.DataFactoryV2</span></span> | <span data-ttu-id="e9338-159">Az.DataFactory</span><span class="sxs-lookup"><span data-stu-id="e9338-159">Az.DataFactory</span></span> | <span data-ttu-id="e9338-160">Ja</span><span class="sxs-lookup"><span data-stu-id="e9338-160">Yes</span></span> |
| <span data-ttu-id="e9338-161">AzureRM.RecoveryServices.Backup</span><span class="sxs-lookup"><span data-stu-id="e9338-161">AzureRM.RecoveryServices.Backup</span></span> | <span data-ttu-id="e9338-162">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="e9338-162">Az.RecoveryServices</span></span> | <span data-ttu-id="e9338-163">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-163">No</span></span> |
| <span data-ttu-id="e9338-164">AzureRM.RecoveryServices.SiteRecovery</span><span class="sxs-lookup"><span data-stu-id="e9338-164">AzureRM.RecoveryServices.SiteRecovery</span></span> | <span data-ttu-id="e9338-165">Az.RecoveryServices</span><span class="sxs-lookup"><span data-stu-id="e9338-165">Az.RecoveryServices</span></span> | <span data-ttu-id="e9338-166">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-166">No</span></span> |
| <span data-ttu-id="e9338-167">AzureRM.Tags</span><span class="sxs-lookup"><span data-stu-id="e9338-167">AzureRM.Tags</span></span> | <span data-ttu-id="e9338-168">Az.Resources</span><span class="sxs-lookup"><span data-stu-id="e9338-168">Az.Resources</span></span> | <span data-ttu-id="e9338-169">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-169">No</span></span> |
| <span data-ttu-id="e9338-170">AzureRM.MachineLearningCompute</span><span class="sxs-lookup"><span data-stu-id="e9338-170">AzureRM.MachineLearningCompute</span></span> | <span data-ttu-id="e9338-171">Az.MachineLearning</span><span class="sxs-lookup"><span data-stu-id="e9338-171">Az.MachineLearning</span></span> | <span data-ttu-id="e9338-172">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-172">No</span></span> |
| <span data-ttu-id="e9338-173">AzureRM.UsageAggregates</span><span class="sxs-lookup"><span data-stu-id="e9338-173">AzureRM.UsageAggregates</span></span> | <span data-ttu-id="e9338-174">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="e9338-174">Az.Billing</span></span> | <span data-ttu-id="e9338-175">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-175">No</span></span> |
| <span data-ttu-id="e9338-176">AzureRM.Consumption</span><span class="sxs-lookup"><span data-stu-id="e9338-176">AzureRM.Consumption</span></span> | <span data-ttu-id="e9338-177">Az.Billing</span><span class="sxs-lookup"><span data-stu-id="e9338-177">Az.Billing</span></span> | <span data-ttu-id="e9338-178">Nein </span><span class="sxs-lookup"><span data-stu-id="e9338-178">No</span></span> |

## <a name="summary"></a><span data-ttu-id="e9338-179">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="e9338-179">Summary</span></span>

<span data-ttu-id="e9338-180">Mithilfe dieser Schritte können Sie alle Ihre bereits vorhandenen Skripts für die Verwendung des neuen Moduls aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="e9338-180">By following these steps, you can update all of your existing scripts to use the new module.</span></span> <span data-ttu-id="e9338-181">Falls Sie Fragen haben oder bei Ihrer Migration Probleme aufgetreten sind, kommentieren Sie diesen Artikel, damit wir die Anweisungen verbessern können.</span><span class="sxs-lookup"><span data-stu-id="e9338-181">If you have any questions or problems with these steps that made your migration difficult, please comment on this article so that we can improve the instructions.</span></span>
